============================= test session starts =============================
platform win32 -- Python 3.13.7, pytest-9.0.2, pluggy-1.6.0
rootdir: C:\Users\Samad\repos\trading-bot
plugins: anyio-4.11.0, asyncio-1.3.0, mock-3.15.1
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 57 items / 22 errors

=================================== ERRORS ====================================
____________________ ERROR collecting test_integration.py _____________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\test_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
test_integration.py:17: in <module>
    from src.config import load_config
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
_____________________ ERROR collecting test_messaging.py ______________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\test_messaging.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
test_messaging.py:15: in <module>
    from src.config import load_config
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
__________________ ERROR collecting tests/test_api_server.py __________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_api_server.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_api_server.py:3: in <module>
    from src.api_server import app
src\api_server.py:20: in <module>
    from src.exchange import ExchangeClient
src\exchange.py:14: in <module>
    from .config import ExchangeConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
___________ ERROR collecting tests/test_backtest_data_providers.py ____________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_backtest_data_providers.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_backtest_data_providers.py:6: in <module>
    from tools.backtest_perps import CsvDataProvider, ZoomexDataProvider
tools\backtest_perps.py:29: in <module>
    from src.config import get_config, PerpsConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
____________ ERROR collecting tests/test_backtest_multi_tf_atr.py _____________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_backtest_multi_tf_atr.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_backtest_multi_tf_atr.py:4: in <module>
    from tools.backtest_perps import PerpsBacktest
tools\backtest_perps.py:29: in <module>
    from src.config import get_config, PerpsConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
___________________ ERROR collecting tests/test_exchange.py ___________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_exchange.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_exchange.py:3: in <module>
    from src.exchange import ExchangeClient
src\exchange.py:14: in <module>
    from .config import ExchangeConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
________ ERROR collecting tests/test_live_best_configs_integration.py _________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_live_best_configs_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_live_best_configs_integration.py:5: in <module>
    from run_bot import TradingBot
run_bot.py:30: in <module>
    from src.config import PerpsConfig, get_config, TradingBotConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
________________ ERROR collecting tests/test_multi_strategy.py ________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_multi_strategy.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_multi_strategy.py:6: in <module>
    from src.strategy import TradingStrategy
src\strategy.py:14: in <module>
    from .config import TradingBotConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
______________ ERROR collecting tests/test_order_id_generator.py ______________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_order_id_generator.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_order_id_generator.py:3: in <module>
    from src.engine.order_id_generator import generate_order_id
src\engine\__init__.py:3: in <module>
    from src.engine.perps_executor import (
src\engine\perps_executor.py:6: in <module>
    from src.exchange import ExchangeClient
src\exchange.py:14: in <module>
    from .config import ExchangeConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
_________________ ERROR collecting tests/test_paper_broker.py _________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_paper_broker.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_paper_broker.py:3: in <module>
    from src.paper_trader import PaperBroker
src\paper_trader.py:22: in <module>
    from .config import PaperConfig, RiskManagementConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
________________ ERROR collecting tests/test_perps_executor.py ________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_perps_executor.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_perps_executor.py:1: in <module>
    from src.engine.perps_executor import risk_position_size, round_quantity
src\engine\__init__.py:3: in <module>
    from src.engine.perps_executor import (
src\engine\perps_executor.py:6: in <module>
    from src.exchange import ExchangeClient
src\exchange.py:14: in <module>
    from .config import ExchangeConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
________________ ERROR collecting tests/test_perps_service.py _________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_perps_service.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_perps_service.py:7: in <module>
    from src.services.perps import PerpsService
src\services\__init__.py:3: in <module>
    from .monitor import MonitorService
src\services\monitor.py:7: in <module>
    from ..config import TradingBotConfig, load_config
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
_________ ERROR collecting tests/test_perps_service_runtime_health.py _________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_perps_service_runtime_health.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_perps_service_runtime_health.py:6: in <module>
    from src.config import CrisisModeConfig, PerpsConfig, TradingConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
___________ ERROR collecting tests/test_perps_trend_atr_multi_tf.py ___________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_perps_trend_atr_multi_tf.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_perps_trend_atr_multi_tf.py:4: in <module>
    from src.config import PerpsConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
_________________ ERROR collecting tests/test_pnl_tracker.py __________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_pnl_tracker.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_pnl_tracker.py:3: in <module>
    from src.engine.pnl_tracker import PnLTracker
src\engine\__init__.py:3: in <module>
    from src.engine.perps_executor import (
src\engine\perps_executor.py:6: in <module>
    from src.exchange import ExchangeClient
src\exchange.py:14: in <module>
    from .config import ExchangeConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
___________________ ERROR collecting tests/test_presets.py ____________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_presets.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_presets.py:3: in <module>
    from src.api_server import app
src\api_server.py:20: in <module>
    from src.exchange import ExchangeClient
src\exchange.py:14: in <module>
    from .config import ExchangeConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
______________ ERROR collecting tests/test_risk_position_size.py ______________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_risk_position_size.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_risk_position_size.py:2: in <module>
    from src.engine.perps_executor import risk_position_size
src\engine\__init__.py:3: in <module>
    from src.engine.perps_executor import (
src\engine\perps_executor.py:6: in <module>
    from src.exchange import ExchangeClient
src\exchange.py:14: in <module>
    from .config import ExchangeConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
__________ ERROR collecting tests/test_run_bot_health_integration.py __________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_run_bot_health_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_run_bot_health_integration.py:5: in <module>
    import run_bot
run_bot.py:30: in <module>
    from src.config import PerpsConfig, get_config, TradingBotConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
____________ ERROR collecting tests/test_run_bot_runtime_health.py ____________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_run_bot_runtime_health.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_run_bot_runtime_health.py:6: in <module>
    import run_bot
run_bot.py:30: in <module>
    from src.config import PerpsConfig, get_config, TradingBotConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
_______________ ERROR collecting tests/test_safety_scenarios.py _______________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_safety_scenarios.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_safety_scenarios.py:11: in <module>
    from src.config import CrisisModeConfig, PerpsConfig, TradingConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
___________________ ERROR collecting tests/test_strategy.py ___________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_strategy.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_strategy.py:10: in <module>
    from src.strategy import (
src\strategy.py:14: in <module>
    from .config import TradingBotConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
________________ ERROR collecting tests/test_strategy_sweep.py ________________
ImportError while importing test module 'C:\Users\Samad\repos\trading-bot\tests\test_strategy_sweep.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_strategy_sweep.py:3: in <module>
    from tools.run_strategy_sweep import StrategySweeper, generate_grid
tools\run_strategy_sweep.py:26: in <module>
    from src.config import get_config, PerpsConfig
src\config.py:27: in <module>
    from pydantic_settings import BaseSettings, SettingsConfigDict
E   ModuleNotFoundError: No module named 'pydantic_settings'
=========================== short test summary info ===========================
ERROR test_integration.py
ERROR test_messaging.py
ERROR tests/test_api_server.py
ERROR tests/test_backtest_data_providers.py
ERROR tests/test_backtest_multi_tf_atr.py
ERROR tests/test_exchange.py
ERROR tests/test_live_best_configs_integration.py
ERROR tests/test_multi_strategy.py
ERROR tests/test_order_id_generator.py
ERROR tests/test_paper_broker.py
ERROR tests/test_perps_executor.py
ERROR tests/test_perps_service.py
ERROR tests/test_perps_service_runtime_health.py
ERROR tests/test_perps_trend_atr_multi_tf.py
ERROR tests/test_pnl_tracker.py
ERROR tests/test_presets.py
ERROR tests/test_risk_position_size.py
ERROR tests/test_run_bot_health_integration.py
ERROR tests/test_run_bot_runtime_health.py
ERROR tests/test_safety_scenarios.py
ERROR tests/test_strategy.py
ERROR tests/test_strategy_sweep.py
!!!!!!!!!!!!!!!!!! Interrupted: 22 errors during collection !!!!!!!!!!!!!!!!!!!
============================= 22 errors in 51.48s =============================
